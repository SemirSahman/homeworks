package ba.bitcamp.weekendHomework23;

import javax.swing.JFileChooser;
import javax.swing.JFrame;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;

/**
 * Class representing main windoe of the application
 * 
 * @author Ognjen
 *
 */
public class MainWindow extends JFrame {

	private static final long serialVersionUID = -8783826030688345840L;

	private static final int WIDTH = 500;
	private static final int HEIGHT = 500;

	private Panel pnl = new Panel();

	/**
	 * Default constructor. Opens main window.
	 */
	public MainWindow() {
		setContentPane(pnl);

		setTitle("File organizer");
		setSize(MainWindow.WIDTH, MainWindow.HEIGHT);
		setLocationRelativeTo(null);
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setVisible(true);
	}

	public static void main(String[] args) {

		try {
			UIManager.setLookAndFeel(UIManager
					.getCrossPlatformLookAndFeelClassName());
		} catch (ClassNotFoundException | InstantiationException
				| IllegalAccessException | UnsupportedLookAndFeelException e) {
			e.printStackTrace();
		}

		JFileChooser jfc = new JFileChooser();
		jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
		jfc.setDialogTitle("Choose default directory");
		jfc.setApproveButtonText("Set");
		jfc.setApproveButtonMnemonic('S');
		jfc.setApproveButtonToolTipText("Choose default directory");
		int option = jfc.showOpenDialog(null);
		while (option != JFileChooser.APPROVE_OPTION) {
			if (option == JFileChooser.CANCEL_OPTION) {
				System.exit(0);
			}
			option = jfc.showOpenDialog(null);
		}
		Directory.setDefaultDirectory(jfc.getSelectedFile());

		new MainWindow();
	}
}